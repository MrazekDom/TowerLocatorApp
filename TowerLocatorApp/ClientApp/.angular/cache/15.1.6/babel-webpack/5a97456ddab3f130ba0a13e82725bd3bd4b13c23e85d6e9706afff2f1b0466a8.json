{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction FileUploadComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 9);\n  }\n}\nfunction FileUploadComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1, \" Vlo\\u017Ete, pros\\u00EDm, soubor ve form\\u00E1tu CSV. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class FileUploadComponent {\n  constructor() {\n    this.fileForm = new FormGroup({\n      gpxFile: new FormControl()\n    });\n  }\n  gpxFileValidator(control) {\n    const file = control.value;\n    if (file && file.name) {\n      const allowedExtension = '.gpx';\n      const fileExtension = file.name.split('.').pop().toLowerCase();\n      if (fileExtension !== allowedExtension) {\n        return {\n          invalidExtension: true\n        };\n      }\n    }\n    return null;\n  }\n  csvFileValidator(control) {\n    const file = control.value;\n    if (file && file.name) {\n      const allowerExtension = '.csv';\n      const fileExtension = file.name.split('.').pop().toLowerCase();\n      if (fileExtension !== allowerExtension) {\n        return {\n          invalidExtension: true\n        };\n      }\n    }\n    return null;\n  }\n  onSubmit() {\n    if (this.fileForm.valid) {\n      console.log(1);\n    }\n  }\n}\nFileUploadComponent.ɵfac = function FileUploadComponent_Factory(t) {\n  return new (t || FileUploadComponent)();\n};\nFileUploadComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FileUploadComponent,\n  selectors: [[\"app-file-upload\"]],\n  decls: 17,\n  vars: 4,\n  consts: [[3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"placeholder\", \"Name of your route\", \"formControlName\", \"routeName\", \"aria-label\", \"Name your route\", 1, \"form-control\"], [1, \"mb-3\"], [\"for\", \"gpxFile\", 1, \"form-label\"], [\"type\", \"file\", \"accept\", \".gpx\", \"id\", \"gpxFile\", \"formControlName\", \"gpxFile\", 1, \"form-control\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"csvFile\", 1, \"form-label\"], [\"type\", \"file\", \"accept\", \".csv\", \"id\", \"csvFile\", \"formControlName\", \"csvFile\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"text-danger\"]],\n  template: function FileUploadComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"file-upload works!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function FileUploadComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelement(3, \"input\", 1);\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\", 3);\n      i0.ɵɵtext(6, \"GPX\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"input\", 4);\n      i0.ɵɵtemplate(8, FileUploadComponent_div_8_Template, 1, 0, \"div\", 5);\n      i0.ɵɵtext(9, \" Vlo\\u017Ete, pros\\u00EDm, soubor ve form\\u00E1tu GPX \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 2)(11, \"label\", 6);\n      i0.ɵɵtext(12, \"CSV\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 7);\n      i0.ɵɵtemplate(14, FileUploadComponent_div_14_Template, 2, 0, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"button\", 8);\n      i0.ɵɵtext(16, \" Button \");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.fileForm);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx.fileForm.get(\"gpxFile\")) == null ? null : tmp_1_0.invalid);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx.fileForm.get(\"csvFile\")) == null ? null : tmp_2_0.invalid);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.fileForm.invalid);\n    }\n  },\n  dependencies: [i1.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,WAAW,EAAEC,SAAS,QAAoB,gBAAgB;;;;;;ICiB/DC,yBAAwE;;;;;IAYxEA,8BAAkE;IAChEA,uEACF;IAAAA,iBAAM;;;ADxBV,OAAM,MAAOC,mBAAmB;EAG9BC;IACE,IAAI,CAACC,QAAQ,GAAG,IAAIJ,SAAS,CAAC;MAC5BK,OAAO,EAAG,IAAIN,WAAW;KAC1B,CAAC;EACJ;EAIAO,gBAAgB,CAACC,OAAoB;IACnC,MAAMC,IAAI,GAAGD,OAAO,CAACE,KAAK;IAC1B,IAAID,IAAI,IAAIA,IAAI,CAACE,IAAI,EAAE;MACrB,MAAMC,gBAAgB,GAAG,MAAM;MAC/B,MAAMC,aAAa,GAAGJ,IAAI,CAACE,IAAI,CAACG,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,EAAE,CAACC,WAAW,EAAE;MAC9D,IAAIH,aAAa,KAAKD,gBAAgB,EAAE;QACtC,OAAO;UAAEK,gBAAgB,EAAE;QAAI,CAAE;;;IAIrC,OAAO,IAAI;EACb;EACAC,gBAAgB,CAACV,OAAoB;IACnC,MAAMC,IAAI,GAAGD,OAAO,CAACE,KAAK;IAC1B,IAAID,IAAI,IAAIA,IAAI,CAACE,IAAI,EAAE;MACrB,MAAMQ,gBAAgB,GAAG,MAAM;MAC/B,MAAMN,aAAa,GAAGJ,IAAI,CAACE,IAAI,CAACG,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,EAAE,CAACC,WAAW,EAAE;MAC9D,IAAIH,aAAa,KAAKM,gBAAgB,EAAE;QACtC,OAAO;UAAEF,gBAAgB,EAAE;QAAI,CAAE;;;IAGrC,OAAO,IAAI;EACb;EAEAG,QAAQ;IACN,IAAI,IAAI,CAACf,QAAQ,CAACgB,KAAK,EAAE;MACvBC,OAAO,CAACC,GAAG,CAAC,CAAC,CAAC;;EAGlB;;AAxCWpB,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCThC1B,yBAAG;MAAAA,kCAAkB;MAAAA,iBAAI;MAEzBA,+BAAqD;MAAxBA;QAAA,OAAY2B,cAAU;MAAA,EAAC;MAClD3B,2BAME;MACFA,8BAAkB;MACwBA,mBAAG;MAAAA,iBAAQ;MACnDA,2BAME;MACFA,oEAAwE;MACxEA,sEACF;MAAAA,iBAAM;MACNA,+BAAkB;MACwBA,oBAAG;MAAAA,iBAAQ;MACnDA,4BAME;MACFA,sEAEM;MACRA,iBAAM;MACNA,kCAA4E;MAC1EA,yBACF;MAAAA,iBAAS;;;;;MAnCLA,eAAsB;MAAtBA,wCAAsB;MAiBlBA,eAAsC;MAAtCA,+FAAsC;MAYtCA,eAAsC;MAAtCA,+FAAsC;MAIAA,eAA6B;MAA7BA,+CAA6B","names":["FormControl","FormGroup","i0","FileUploadComponent","constructor","fileForm","gpxFile","gpxFileValidator","control","file","value","name","allowedExtension","fileExtension","split","pop","toLowerCase","invalidExtension","csvFileValidator","allowerExtension","onSubmit","valid","console","log","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\mraze\\source\\repos\\TowerLocatorApp\\TowerLocatorApp\\ClientApp\\src\\app\\components\\file-upload\\file-upload.component.ts","C:\\Users\\mraze\\source\\repos\\TowerLocatorApp\\TowerLocatorApp\\ClientApp\\src\\app\\components\\file-upload\\file-upload.component.html"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Component } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-file-upload',\r\n  templateUrl: './file-upload.component.html',\r\n  styleUrls: ['./file-upload.component.css']\r\n})\r\nexport class FileUploadComponent {\r\n  fileForm: FormGroup;\r\n\r\n  constructor() {\r\n    this.fileForm = new FormGroup({\r\n      gpxFile : new FormControl\r\n    })\r\n  }\r\n\r\n\r\n \r\n  gpxFileValidator(control: FormControl): { [key: string]: any } | null { /*metoda muze vratit bud kvp object nebo null*/\r\n    const file = control.value;\r\n    if (file && file.name) {\r\n      const allowedExtension = '.gpx';\r\n      const fileExtension = file.name.split('.').pop().toLowerCase();\r\n      if (fileExtension !== allowedExtension) {\r\n        return { invalidExtension: true };\r\n      }\r\n\r\n    }\r\n    return null;\r\n  }\r\n  csvFileValidator(control: FormControl): { [key: string]: any } | null  {\r\n    const file = control.value;\r\n    if (file && file.name) {\r\n      const allowerExtension = '.csv';\r\n      const fileExtension = file.name.split('.').pop().toLowerCase();\r\n      if (fileExtension !== allowerExtension) {\r\n        return { invalidExtension: true };\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.fileForm.valid) {\r\n      console.log(1);\r\n\r\n    }\r\n  }\r\n }\r\n","<p>file-upload works!</p>\n\n<form [formGroup]=\"fileForm\" (ngSubmit)=\"onSubmit()\">\n  <input\n    class=\"form-control\"\n    type=\"text\"\n    placeholder=\"Name of your route\"\n    formControlName=\"routeName\"\n    aria-label=\"Name your route\"\n  />\n  <div class=\"mb-3\">\n    <label for=\"gpxFile\" class=\"form-label\">GPX</label>\n    <input\n      class=\"form-control\"\n      type=\"file\"\n      accept=\".gpx\"\n      id=\"gpxFile\"\n      formControlName=\"gpxFile\"\n    />\n    <div *ngIf=\"fileForm.get('gpxFile')?.invalid\" class=\"text-danger\"></div>\n    Vložte, prosím, soubor ve formátu GPX\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"csvFile\" class=\"form-label\">CSV</label>\n    <input\n      class=\"form-control\"\n      type=\"file\"\n      accept=\".csv\"\n      id=\"csvFile\"\n      formControlName=\"csvFile\"\n    />\n    <div *ngIf=\"fileForm.get('csvFile')?.invalid\" class=\"text-danger\">\n      Vložte, prosím, soubor ve formátu CSV.\n    </div>\n  </div>\n  <button class=\"btn btn-primary\" type=\"submit\" [disabled]=\"fileForm.invalid\">\n    Button\n  </button>\n</form>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}